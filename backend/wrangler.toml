name = "blog-api"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[vars]
API_VERSION = "1.0.0"

[[kv_namespaces]]
binding = "ARTICLES"
id = "232473c7fa0d46b0845ad462b6fe0807"  # blogjetcpp KV 命名空间

[triggers]
crons = ["0 * * * *"]  # 每小时执行一次

[build]
command = "npm run build"
upload.format = "modules"
upload.main = "./src/index.ts"

[build.upload]
format = "modules"
main = "./src/index.ts"

[[rules]]
type = "ESModule"
globs = ["**/*.ts"]

[dev]
port = 8787
ip = "127.0.0.1"

[env.production]
zone_id = "your-zone-id"  # 可选：自定义域名配置
routes = [
  "blog-api.yourdomain.com/*"
]